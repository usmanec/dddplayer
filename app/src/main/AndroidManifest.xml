<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    package="top.rootu.dddplayer">

    <uses-feature
        android:name="android.software.leanback"
        android:required="false" />
    <uses-feature
        android:name="android.hardware.touchscreen"
        android:required="false" />
    <uses-feature
        android:glEsVersion="0x00020000"
        android:required="true" />

    <uses-permission android:name="android.permission.INTERNET" />
    <!-- Старое разрешение только для Android 12 и ниже -->
    <uses-permission android:name="android.permission.READ_EXTERNAL_STORAGE"
        android:maxSdkVersion="32" />

    <!-- Новые разрешения для Android 13+ -->
    <uses-permission android:name="android.permission.READ_MEDIA_VIDEO" />
    <uses-permission android:name="android.permission.READ_MEDIA_AUDIO" />

    <uses-permission android:name="android.permission.REQUEST_INSTALL_PACKAGES" />

    <application
        android:name=".App"
        android:allowBackup="true"
        android:icon="@mipmap/ic_launcher"
        android:roundIcon="@mipmap/ic_launcher_round"
        android:banner="@drawable/tv_banner"
        android:label="@string/app_name"
        android:supportsRtl="true"
        android:usesCleartextTraffic="true"
        android:networkSecurityConfig="@xml/network_security_config"
        android:requestLegacyExternalStorage="true"
        android:theme="@style/AppTheme">

        <activity
            android:name=".ui.PlayerActivity"
            android:exported="true"
            android:icon="@mipmap/ic_launcher"
            android:logo="@mipmap/ic_launcher"
            android:banner="@drawable/tv_banner"
            android:screenOrientation="landscape"
            android:configChanges="orientation|screenSize|keyboardHidden|keyboard|navigation">

            <!-- Точка входа для Android TV -->
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />
                <category android:name="android.intent.category.LEANBACK_LAUNCHER" />
            </intent-filter>

            <!-- Точка входа для Телефонов/Планшетов -->
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />
                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>

            <!-- Фильтры для открытия видео -->

            <intent-filter>
                <action android:name="android.intent.action.VIEW" />

                <category android:name="android.intent.category.DEFAULT" />
                <category android:name="android.intent.category.BROWSABLE" />

                <data android:scheme="rtsp" />
            </intent-filter>
            <intent-filter>
                <action android:name="android.intent.action.VIEW" />

                <category android:name="android.intent.category.DEFAULT" />
                <category android:name="android.intent.category.BROWSABLE" />

                <data android:scheme="rtsp" />
                <data android:mimeType="video/*" />
            </intent-filter>
            <intent-filter>
                <action android:name="android.intent.action.VIEW" />
                <category android:name="android.intent.category.DEFAULT" />
                <category android:name="android.intent.category.BROWSABLE" />

                <data android:scheme=""
                    tools:ignore="AppLinkUrlError" />
                <data android:scheme="ftp" />
                <data android:scheme="http" />
                <data android:scheme="https" />
                <data android:scheme="content" />
                <data android:scheme="file" />

                <data android:mimeType="video/*" />
                <data android:mimeType="application/sdp" />
                <data android:mimeType="application/vnd.apple.mpegurl" />
                <data android:mimeType="application/x-mpegURL"
                    tools:ignore="AppLinkUrlError" />
                <data android:mimeType="application/dash+xml" />
            </intent-filter>
            <intent-filter>
                <action android:name="android.intent.action.VIEW" />

                <category android:name="android.intent.category.DEFAULT" />
                <category android:name="android.intent.category.BROWSABLE" />

                <data android:scheme=""
                    tools:ignore="AppLinkUrlError" />
                <data android:scheme="ftp" />
                <data android:scheme="http" />
                <data android:scheme="https" />
                <data android:scheme="content" />
                <data android:scheme="file" />
                <data android:host="*" />

                <!-- video ex: mp4 m4v mp4v mp42 mp43 .mpeg4 mkv webm mov ts 3gp 3gpp avi flv
                               ogv ogg mpg mpeg m2ts mts wmv divx hevc h265 h264 avc vp8 vp9 mjpeg
                               m3u8 mpd ism isml ps mp2p mpg2 mpeg2 dv
                               -->
                <!-- .mp4 -->
                <data android:pathPattern=".*\\.mp4" /><data android:pathPattern=".*\\..*\\..*\\..*\\..*\\.MP4" />
                <data android:pathPattern=".*\\..*\\.mp4" /><data android:pathPattern=".*\\..*\\..*\\..*\\.MP4" />
                <data android:pathPattern=".*\\..*\\..*\\.mp4" /><data android:pathPattern=".*\\..*\\..*\\.MP4" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\.mp4" /><data android:pathPattern=".*\\..*\\.MP4" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\..*\\.mp4" /><data android:pathPattern=".*\\.MP4" />
                <!-- .m4v -->
                <data android:pathPattern=".*\\.m4v" /><data android:pathPattern=".*\\..*\\..*\\..*\\..*\\.M4V" />
                <data android:pathPattern=".*\\..*\\.m4v" /><data android:pathPattern=".*\\..*\\..*\\..*\\.M4V" />
                <data android:pathPattern=".*\\..*\\..*\\.m4v" /><data android:pathPattern=".*\\..*\\..*\\.M4V" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\.m4v" /><data android:pathPattern=".*\\..*\\.M4V" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\..*\\.m4v" /><data android:pathPattern=".*\\.M4V" />
                <!-- .mp4v -->
                <data android:pathPattern=".*\\.mp4v" /><data android:pathPattern=".*\\..*\\..*\\..*\\..*\\.MP4V" />
                <data android:pathPattern=".*\\..*\\.mp4v" /><data android:pathPattern=".*\\..*\\..*\\..*\\.MP4V" />
                <data android:pathPattern=".*\\..*\\..*\\.mp4v" /><data android:pathPattern=".*\\..*\\..*\\.MP4V" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\.mp4v" /><data android:pathPattern=".*\\..*\\.MP4V" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\..*\\.mp4v" /><data android:pathPattern=".*\\.MP4V" />
                <!-- .mp42 -->
                <data android:pathPattern=".*\\.mp42" /><data android:pathPattern=".*\\..*\\..*\\..*\\..*\\.MP42" />
                <data android:pathPattern=".*\\..*\\.mp42" /><data android:pathPattern=".*\\..*\\..*\\..*\\.MP42" />
                <data android:pathPattern=".*\\..*\\..*\\.mp42" /><data android:pathPattern=".*\\..*\\..*\\.MP42" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\.mp42" /><data android:pathPattern=".*\\..*\\.MP42" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\..*\\.mp42" /><data android:pathPattern=".*\\.MP42" />
                <!-- .mp43 -->
                <data android:pathPattern=".*\\.mp43" /><data android:pathPattern=".*\\..*\\..*\\..*\\..*\\.MP43" />
                <data android:pathPattern=".*\\..*\\.mp43" /><data android:pathPattern=".*\\..*\\..*\\..*\\.MP43" />
                <data android:pathPattern=".*\\..*\\..*\\.mp43" /><data android:pathPattern=".*\\..*\\..*\\.MP43" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\.mp43" /><data android:pathPattern=".*\\..*\\.MP43" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\..*\\.mp43" /><data android:pathPattern=".*\\.MP43" />
                <!-- .mpeg4 -->
                <data android:pathPattern=".*\\.mpeg4" /><data android:pathPattern=".*\\..*\\..*\\..*\\..*\\.MPEG4" />
                <data android:pathPattern=".*\\..*\\.mpeg4" /><data android:pathPattern=".*\\..*\\..*\\..*\\.MPEG4" />
                <data android:pathPattern=".*\\..*\\..*\\.mpeg4" /><data android:pathPattern=".*\\..*\\..*\\.MPEG4" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\.mpeg4" /><data android:pathPattern=".*\\..*\\.MPEG4" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\..*\\.mpeg4" /><data android:pathPattern=".*\\.MPEG4" />
                <!-- .mkv -->
                <data android:pathPattern=".*\\.mkv" /><data android:pathPattern=".*\\..*\\..*\\..*\\..*\\.MKV" />
                <data android:pathPattern=".*\\..*\\.mkv" /><data android:pathPattern=".*\\..*\\..*\\..*\\.MKV" />
                <data android:pathPattern=".*\\..*\\..*\\.mkv" /><data android:pathPattern=".*\\..*\\..*\\.MKV" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\.mkv" /><data android:pathPattern=".*\\..*\\.MKV" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\..*\\.mkv" /><data android:pathPattern=".*\\.MKV" />
                <!-- .webm -->
                <data android:pathPattern=".*\\.webm" /><data android:pathPattern=".*\\..*\\..*\\..*\\..*\\.WEBM" />
                <data android:pathPattern=".*\\..*\\.webm" /><data android:pathPattern=".*\\..*\\..*\\..*\\.WEBM" />
                <data android:pathPattern=".*\\..*\\..*\\.webm" /><data android:pathPattern=".*\\..*\\..*\\.WEBM" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\.webm" /><data android:pathPattern=".*\\..*\\.WEBM" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\..*\\.webm" /><data android:pathPattern=".*\\.WEBM" />
                <!-- .mov -->
                <data android:pathPattern=".*\\.mov" /><data android:pathPattern=".*\\..*\\..*\\..*\\..*\\.MOV" />
                <data android:pathPattern=".*\\..*\\.mov" /><data android:pathPattern=".*\\..*\\..*\\..*\\.MOV" />
                <data android:pathPattern=".*\\..*\\..*\\.mov" /><data android:pathPattern=".*\\..*\\..*\\.MOV" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\.mov" /><data android:pathPattern=".*\\..*\\.MOV" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\..*\\.mov" /><data android:pathPattern=".*\\.MOV" />
                <!-- .ts -->
                <data android:pathPattern=".*\\.ts" /><data android:pathPattern=".*\\..*\\..*\\..*\\..*\\.TS" />
                <data android:pathPattern=".*\\..*\\.ts" /><data android:pathPattern=".*\\..*\\..*\\..*\\.TS" />
                <data android:pathPattern=".*\\..*\\..*\\.ts" /><data android:pathPattern=".*\\..*\\..*\\.TS" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\.ts" /><data android:pathPattern=".*\\..*\\.TS" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\..*\\.ts" /><data android:pathPattern=".*\\.TS" />
                <!-- .3gp -->
                <data android:pathPattern=".*\\.3gp" /><data android:pathPattern=".*\\..*\\..*\\..*\\..*\\.3GP" />
                <data android:pathPattern=".*\\..*\\.3gp" /><data android:pathPattern=".*\\..*\\..*\\..*\\.3GP" />
                <data android:pathPattern=".*\\..*\\..*\\.3gp" /><data android:pathPattern=".*\\..*\\..*\\.3GP" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\.3gp" /><data android:pathPattern=".*\\..*\\.3GP" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\..*\\.3gp" /><data android:pathPattern=".*\\.3GP" />
                <!-- .3gpp -->
                <data android:pathPattern=".*\\.3gpp" /><data android:pathPattern=".*\\..*\\..*\\..*\\..*\\.3GPP" />
                <data android:pathPattern=".*\\..*\\.3gpp" /><data android:pathPattern=".*\\..*\\..*\\..*\\.3GPP" />
                <data android:pathPattern=".*\\..*\\..*\\.3gpp" /><data android:pathPattern=".*\\..*\\..*\\.3GPP" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\.3gpp" /><data android:pathPattern=".*\\..*\\.3GPP" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\..*\\.3gpp" /><data android:pathPattern=".*\\.3GPP" />
                <!-- .avi -->
                <data android:pathPattern=".*\\.avi" /><data android:pathPattern=".*\\..*\\..*\\..*\\..*\\.AVI" />
                <data android:pathPattern=".*\\..*\\.avi" /><data android:pathPattern=".*\\..*\\..*\\..*\\.AVI" />
                <data android:pathPattern=".*\\..*\\..*\\.avi" /><data android:pathPattern=".*\\..*\\..*\\.AVI" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\.avi" /><data android:pathPattern=".*\\..*\\.AVI" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\..*\\.avi" /><data android:pathPattern=".*\\.AVI" />
                <!-- .flv -->
                <data android:pathPattern=".*\\.flv" /><data android:pathPattern=".*\\..*\\..*\\..*\\..*\\.FLV" />
                <data android:pathPattern=".*\\..*\\.flv" /><data android:pathPattern=".*\\..*\\..*\\..*\\.FLV" />
                <data android:pathPattern=".*\\..*\\..*\\.flv" /><data android:pathPattern=".*\\..*\\..*\\.FLV" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\.flv" /><data android:pathPattern=".*\\..*\\.FLV" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\..*\\.flv" /><data android:pathPattern=".*\\.FLV" />
                <!-- .ogv -->
                <data android:pathPattern=".*\\.ogv" /><data android:pathPattern=".*\\..*\\..*\\..*\\..*\\.OGV" />
                <data android:pathPattern=".*\\..*\\.ogv" /><data android:pathPattern=".*\\..*\\..*\\..*\\.OGV" />
                <data android:pathPattern=".*\\..*\\..*\\.ogv" /><data android:pathPattern=".*\\..*\\..*\\.OGV" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\.ogv" /><data android:pathPattern=".*\\..*\\.OGV" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\..*\\.ogv" /><data android:pathPattern=".*\\.OGV" />
                <!-- .ogg -->
                <data android:pathPattern=".*\\.ogg" /><data android:pathPattern=".*\\..*\\..*\\..*\\..*\\.OGG" />
                <data android:pathPattern=".*\\..*\\.ogg" /><data android:pathPattern=".*\\..*\\..*\\..*\\.OGG" />
                <data android:pathPattern=".*\\..*\\..*\\.ogg" /><data android:pathPattern=".*\\..*\\..*\\.OGG" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\.ogg" /><data android:pathPattern=".*\\..*\\.OGG" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\..*\\.ogg" /><data android:pathPattern=".*\\.OGG" />
                <!-- .mpg -->
                <data android:pathPattern=".*\\.mpg" /><data android:pathPattern=".*\\..*\\..*\\..*\\..*\\.MPG" />
                <data android:pathPattern=".*\\..*\\.mpg" /><data android:pathPattern=".*\\..*\\..*\\..*\\.MPG" />
                <data android:pathPattern=".*\\..*\\..*\\.mpg" /><data android:pathPattern=".*\\..*\\..*\\.MPG" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\.mpg" /><data android:pathPattern=".*\\..*\\.MPG" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\..*\\.mpg" /><data android:pathPattern=".*\\.MPG" />
                <!-- .mpeg -->
                <data android:pathPattern=".*\\.mpeg" /><data android:pathPattern=".*\\..*\\..*\\..*\\..*\\.MPEG" />
                <data android:pathPattern=".*\\..*\\.mpeg" /><data android:pathPattern=".*\\..*\\..*\\..*\\.MPEG" />
                <data android:pathPattern=".*\\..*\\..*\\.mpeg" /><data android:pathPattern=".*\\..*\\..*\\.MPEG" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\.mpeg" /><data android:pathPattern=".*\\..*\\.MPEG" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\..*\\.mpeg" /><data android:pathPattern=".*\\.MPEG" />
                <!-- .m2ts -->
                <data android:pathPattern=".*\\.m2ts" /><data android:pathPattern=".*\\..*\\..*\\..*\\..*\\.M2TS" />
                <data android:pathPattern=".*\\..*\\.m2ts" /><data android:pathPattern=".*\\..*\\..*\\..*\\.M2TS" />
                <data android:pathPattern=".*\\..*\\..*\\.m2ts" /><data android:pathPattern=".*\\..*\\..*\\.M2TS" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\.m2ts" /><data android:pathPattern=".*\\..*\\.M2TS" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\..*\\.m2ts" /><data android:pathPattern=".*\\.M2TS" />
                <!-- .mts -->
                <data android:pathPattern=".*\\.mts" /><data android:pathPattern=".*\\..*\\..*\\..*\\..*\\.MTS" />
                <data android:pathPattern=".*\\..*\\.mts" /><data android:pathPattern=".*\\..*\\..*\\..*\\.MTS" />
                <data android:pathPattern=".*\\..*\\..*\\.mts" /><data android:pathPattern=".*\\..*\\..*\\.MTS" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\.mts" /><data android:pathPattern=".*\\..*\\.MTS" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\..*\\.mts" /><data android:pathPattern=".*\\.MTS" />
                <!-- .wmv -->
                <data android:pathPattern=".*\\.wmv" /><data android:pathPattern=".*\\..*\\..*\\..*\\..*\\.WMV" />
                <data android:pathPattern=".*\\..*\\.wmv" /><data android:pathPattern=".*\\..*\\..*\\..*\\.WMV" />
                <data android:pathPattern=".*\\..*\\..*\\.wmv" /><data android:pathPattern=".*\\..*\\..*\\.WMV" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\.wmv" /><data android:pathPattern=".*\\..*\\.WMV" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\..*\\.wmv" /><data android:pathPattern=".*\\.WMV" />
                <!-- .divx -->
                <data android:pathPattern=".*\\.divx" /><data android:pathPattern=".*\\..*\\..*\\..*\\..*\\.DIVX" />
                <data android:pathPattern=".*\\..*\\.divx" /><data android:pathPattern=".*\\..*\\..*\\..*\\.DIVX" />
                <data android:pathPattern=".*\\..*\\..*\\.divx" /><data android:pathPattern=".*\\..*\\..*\\.DIVX" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\.divx" /><data android:pathPattern=".*\\..*\\.DIVX" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\..*\\.divx" /><data android:pathPattern=".*\\.DIVX" />
                <!-- .hevc -->
                <data android:pathPattern=".*\\.hevc" /><data android:pathPattern=".*\\..*\\..*\\..*\\..*\\.HEVC" />
                <data android:pathPattern=".*\\..*\\.hevc" /><data android:pathPattern=".*\\..*\\..*\\..*\\.HEVC" />
                <data android:pathPattern=".*\\..*\\..*\\.hevc" /><data android:pathPattern=".*\\..*\\..*\\.HEVC" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\.hevc" /><data android:pathPattern=".*\\..*\\.HEVC" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\..*\\.hevc" /><data android:pathPattern=".*\\.HEVC" />
                <!-- .h265 -->
                <data android:pathPattern=".*\\.h265" /><data android:pathPattern=".*\\..*\\..*\\..*\\..*\\.H265" />
                <data android:pathPattern=".*\\..*\\.h265" /><data android:pathPattern=".*\\..*\\..*\\..*\\.H265" />
                <data android:pathPattern=".*\\..*\\..*\\.h265" /><data android:pathPattern=".*\\..*\\..*\\.H265" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\.h265" /><data android:pathPattern=".*\\..*\\.H265" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\..*\\.h265" /><data android:pathPattern=".*\\.H265" />
                <!-- .h264 -->
                <data android:pathPattern=".*\\.h264" /><data android:pathPattern=".*\\..*\\..*\\..*\\..*\\.H264" />
                <data android:pathPattern=".*\\..*\\.h264" /><data android:pathPattern=".*\\..*\\..*\\..*\\.H264" />
                <data android:pathPattern=".*\\..*\\..*\\.h264" /><data android:pathPattern=".*\\..*\\..*\\.H264" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\.h264" /><data android:pathPattern=".*\\..*\\.H264" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\..*\\.h264" /><data android:pathPattern=".*\\.H264" />
                <!-- .avc -->
                <data android:pathPattern=".*\\.avc" /><data android:pathPattern=".*\\..*\\..*\\..*\\..*\\.AVC" />
                <data android:pathPattern=".*\\..*\\.avc" /><data android:pathPattern=".*\\..*\\..*\\..*\\.AVC" />
                <data android:pathPattern=".*\\..*\\..*\\.avc" /><data android:pathPattern=".*\\..*\\..*\\.AVC" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\.avc" /><data android:pathPattern=".*\\..*\\.AVC" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\..*\\.avc" /><data android:pathPattern=".*\\.AVC" />
                <!-- .vp8 -->
                <data android:pathPattern=".*\\.vp8" /><data android:pathPattern=".*\\..*\\..*\\..*\\..*\\.VP8" />
                <data android:pathPattern=".*\\..*\\.vp8" /><data android:pathPattern=".*\\..*\\..*\\..*\\.VP8" />
                <data android:pathPattern=".*\\..*\\..*\\.vp8" /><data android:pathPattern=".*\\..*\\..*\\.VP8" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\.vp8" /><data android:pathPattern=".*\\..*\\.VP8" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\..*\\.vp8" /><data android:pathPattern=".*\\.VP8" />
                <!-- .vp9 -->
                <data android:pathPattern=".*\\.vp9" /><data android:pathPattern=".*\\..*\\..*\\..*\\..*\\.VP9" />
                <data android:pathPattern=".*\\..*\\.vp9" /><data android:pathPattern=".*\\..*\\..*\\..*\\.VP9" />
                <data android:pathPattern=".*\\..*\\..*\\.vp9" /><data android:pathPattern=".*\\..*\\..*\\.VP9" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\.vp9" /><data android:pathPattern=".*\\..*\\.VP9" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\..*\\.vp9" /><data android:pathPattern=".*\\.VP9" />
                <!-- .mjpeg -->
                <data android:pathPattern=".*\\.mjpeg" /><data android:pathPattern=".*\\..*\\..*\\..*\\..*\\.MJPEG" />
                <data android:pathPattern=".*\\..*\\.mjpeg" /><data android:pathPattern=".*\\..*\\..*\\..*\\.MJPEG" />
                <data android:pathPattern=".*\\..*\\..*\\.mjpeg" /><data android:pathPattern=".*\\..*\\..*\\.MJPEG" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\.mjpeg" /><data android:pathPattern=".*\\..*\\.MJPEG" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\..*\\.mjpeg" /><data android:pathPattern=".*\\.MJPEG" />
                <!-- .m3u8 -->
                <data android:pathPattern=".*\\.m3u8" /><data android:pathPattern=".*\\..*\\..*\\..*\\..*\\.M3U8" />
                <data android:pathPattern=".*\\..*\\.m3u8" /><data android:pathPattern=".*\\..*\\..*\\..*\\.M3U8" />
                <data android:pathPattern=".*\\..*\\..*\\.m3u8" /><data android:pathPattern=".*\\..*\\..*\\.M3U8" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\.m3u8" /><data android:pathPattern=".*\\..*\\.M3U8" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\..*\\.m3u8" /><data android:pathPattern=".*\\.M3U8" />
                <!-- .mpd -->
                <data android:pathPattern=".*\\.mpd" /><data android:pathPattern=".*\\..*\\..*\\..*\\..*\\.MPD" />
                <data android:pathPattern=".*\\..*\\.mpd" /><data android:pathPattern=".*\\..*\\..*\\..*\\.MPD" />
                <data android:pathPattern=".*\\..*\\..*\\.mpd" /><data android:pathPattern=".*\\..*\\..*\\.MPD" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\.mpd" /><data android:pathPattern=".*\\..*\\.MPD" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\..*\\.mpd" /><data android:pathPattern=".*\\.MPD" />
                <!-- .ism -->
                <data android:pathPattern=".*\\.ism" /><data android:pathPattern=".*\\..*\\..*\\..*\\..*\\.ISM" />
                <data android:pathPattern=".*\\..*\\.ism" /><data android:pathPattern=".*\\..*\\..*\\..*\\.ISM" />
                <data android:pathPattern=".*\\..*\\..*\\.ism" /><data android:pathPattern=".*\\..*\\..*\\.ISM" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\.ism" /><data android:pathPattern=".*\\..*\\.ISM" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\..*\\.ism" /><data android:pathPattern=".*\\.ISM" />
                <!-- .isml -->
                <data android:pathPattern=".*\\.isml" /><data android:pathPattern=".*\\..*\\..*\\..*\\..*\\.ISML" />
                <data android:pathPattern=".*\\..*\\.isml" /><data android:pathPattern=".*\\..*\\..*\\..*\\.ISML" />
                <data android:pathPattern=".*\\..*\\..*\\.isml" /><data android:pathPattern=".*\\..*\\..*\\.ISML" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\.isml" /><data android:pathPattern=".*\\..*\\.ISML" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\..*\\.isml" /><data android:pathPattern=".*\\.ISML" />
                <!-- .ps -->
                <data android:pathPattern=".*\\.ps" /><data android:pathPattern=".*\\..*\\..*\\..*\\..*\\.PS" />
                <data android:pathPattern=".*\\..*\\.ps" /><data android:pathPattern=".*\\..*\\..*\\..*\\.PS" />
                <data android:pathPattern=".*\\..*\\..*\\.ps" /><data android:pathPattern=".*\\..*\\..*\\.PS" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\.ps" /><data android:pathPattern=".*\\..*\\.PS" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\..*\\.ps" /><data android:pathPattern=".*\\.PS" />
                <!-- .mp2p -->
                <data android:pathPattern=".*\\.mp2p" /><data android:pathPattern=".*\\..*\\..*\\..*\\..*\\.MP2P" />
                <data android:pathPattern=".*\\..*\\.mp2p" /><data android:pathPattern=".*\\..*\\..*\\..*\\.MP2P" />
                <data android:pathPattern=".*\\..*\\..*\\.mp2p" /><data android:pathPattern=".*\\..*\\..*\\.MP2P" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\.mp2p" /><data android:pathPattern=".*\\..*\\.MP2P" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\..*\\.mp2p" /><data android:pathPattern=".*\\.MP2P" />
                <!-- .mpg2 -->
                <data android:pathPattern=".*\\.mpg2" /><data android:pathPattern=".*\\..*\\..*\\..*\\..*\\.MPG2" />
                <data android:pathPattern=".*\\..*\\.mpg2" /><data android:pathPattern=".*\\..*\\..*\\..*\\.MPG2" />
                <data android:pathPattern=".*\\..*\\..*\\.mpg2" /><data android:pathPattern=".*\\..*\\..*\\.MPG2" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\.mpg2" /><data android:pathPattern=".*\\..*\\.MPG2" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\..*\\.mpg2" /><data android:pathPattern=".*\\.MPG2" />
                <!-- .mpeg2 -->
                <data android:pathPattern=".*\\.mpeg2" /><data android:pathPattern=".*\\..*\\..*\\..*\\..*\\.MPEG2" />
                <data android:pathPattern=".*\\..*\\.mpeg2" /><data android:pathPattern=".*\\..*\\..*\\..*\\.MPEG2" />
                <data android:pathPattern=".*\\..*\\..*\\.mpeg2" /><data android:pathPattern=".*\\..*\\..*\\.MPEG2" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\.mpeg2" /><data android:pathPattern=".*\\..*\\.MPEG2" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\..*\\.mpeg2" /><data android:pathPattern=".*\\.MPEG2" />
                <!-- .dv -->
                <data android:pathPattern=".*\\.dv" /><data android:pathPattern=".*\\..*\\..*\\..*\\..*\\.DV" />
                <data android:pathPattern=".*\\..*\\.dv" /><data android:pathPattern=".*\\..*\\..*\\..*\\.DV" />
                <data android:pathPattern=".*\\..*\\..*\\.dv" /><data android:pathPattern=".*\\..*\\..*\\.DV" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\.dv" /><data android:pathPattern=".*\\..*\\.DV" />
                <data android:pathPattern=".*\\..*\\..*\\..*\\..*\\.dv" /><data android:pathPattern=".*\\.DV" />
            </intent-filter>
        </activity>

        <!-- Activity для настройки VR профиля (прозрачная тема) -->
        <activity
            android:name=".ui.VrConfigActivity"
            android:theme="@style/Theme.AppCompat.DayNight.Dialog.Alert"
            android:exported="true"
            android:excludeFromRecents="true"
            android:taskAffinity="">

            <intent-filter>
                <action android:name="android.intent.action.VIEW" />
                <category android:name="android.intent.category.DEFAULT" />
                <category android:name="android.intent.category.BROWSABLE" />
                <data android:scheme="http" />
                <data android:scheme="https" />
                <data android:host="google.com" />
                <data android:host="www.google.com" />
                <data android:pathPrefix="/cardboard/cfg" />
            </intent-filter>
        </activity>
        <activity
            android:name=".ui.GlobalSettingsActivity"
            android:exported="false"
            android:screenOrientation="landscape"
            android:theme="@style/Theme.AppCompat.NoActionBar" />
        <activity
            android:name=".ui.CrashActivity"
            android:theme="@style/Theme.AppCompat.NoActionBar"
            android:screenOrientation="landscape"
            android:process=":crash" /> <!-- Отдельный процесс, чтобы гарантированно запуститься -->
        <provider
            android:name="androidx.core.content.FileProvider"
            android:authorities="${applicationId}.provider"
            android:exported="false"
            android:grantUriPermissions="true">
            <meta-data
                android:name="android.support.FILE_PROVIDER_PATHS"
                android:resource="@xml/provider_paths" />
        </provider>
    </application>

</manifest>